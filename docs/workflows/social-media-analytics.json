{
  "id": "social-media-analytics",
  "name": "Social Media Analytics Dashboard",
  "description": "Analyze Instagram profiles for brand sentiment. Scrapes profile data with Apify, analyzes sentiment with GPT-4, and branches based on positive/negative sentiment score using conditional logic.",
  "nodes": [
    {
      "id": "node-1",
      "type": "input",
      "position": {
        "x": 100,
        "y": 250
      },
      "config": {
        "input_output": {
          "label": "Instagram Username",
          "data_type": "text"
        }
      },
      "label": "Username Input"
    },
    {
      "id": "node-2",
      "type": "apify_actor",
      "position": {
        "x": 300,
        "y": 250
      },
      "config": {
        "apify_actor": {
          "actor_id": "apify/instagram-profile-scraper",
          "input": {
            "username": "{{upstream}}"
          },
          "max_items": 50,
          "timeout_secs": 300,
          "credential_id": null
        }
      },
      "label": "Scrape Profile"
    },
    {
      "id": "node-3",
      "type": "agent",
      "position": {
        "x": 500,
        "y": 250
      },
      "config": {
        "agent": {
          "name": "Sentiment Analyzer",
          "provider": "openai",
          "model": "gpt-4o",
          "system_prompt": "You are a social media sentiment analyst specializing in brand reputation analysis.",
          "temperature": 0.3,
          "max_tokens": null,
          "tools": [],
          "knowledge_bases": [],
          "instructions": [
            "Analyze the Instagram profile data including posts, followers, engagement metrics, and content themes",
            "Calculate a sentiment score from 0-100 where 0 is extremely negative and 100 is extremely positive",
            "Consider factors: post sentiment, follower growth, engagement rate, comment tone, content quality",
            "Output MUST be valid JSON format: {\"score\": <number>, \"summary\": \"<brief analysis>\"}",
            "Be objective and data-driven in your analysis"
          ],
          "show_tool_calls": true,
          "markdown": true
        }
      },
      "label": "Analyze Sentiment"
    },
    {
      "id": "node-4",
      "type": "conditional",
      "position": {
        "x": 700,
        "y": 250
      },
      "config": {
        "conditional": {
          "condition_expression": "sentiment score > 60",
          "true_label": "Positive",
          "false_label": "Negative"
        }
      },
      "label": "Sentiment Gate"
    },
    {
      "id": "node-5",
      "type": "output",
      "position": {
        "x": 900,
        "y": 150
      },
      "config": {
        "input_output": {
          "label": "Positive Brand",
          "data_type": "text"
        }
      },
      "label": "Positive Output"
    },
    {
      "id": "node-6",
      "type": "output",
      "position": {
        "x": 900,
        "y": 350
      },
      "config": {
        "input_output": {
          "label": "Negative Feedback",
          "data_type": "text"
        }
      },
      "label": "Negative Output"
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "node-1",
      "source_handle": null,
      "target": "node-2",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-2",
      "source": "node-2",
      "source_handle": null,
      "target": "node-3",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-3",
      "source": "node-3",
      "source_handle": null,
      "target": "node-4",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-4",
      "source": "node-4",
      "source_handle": "true",
      "target": "node-5",
      "target_handle": null,
      "label": "Positive"
    },
    {
      "id": "edge-5",
      "source": "node-4",
      "source_handle": "false",
      "target": "node-6",
      "target_handle": null,
      "label": "Negative"
    }
  ],
  "metadata": {
    "created_at": "2026-02-09T00:00:00Z",
    "updated_at": "2026-02-09T00:00:00Z",
    "version": "1.0.0",
    "author": "CoconutFlow Team",
    "tags": ["social-media", "instagram", "sentiment-analysis", "apify", "conditional"]
  }
}
