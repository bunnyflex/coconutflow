{
  "id": "competitive-intelligence",
  "name": "Competitive Intelligence Pipeline",
  "description": "Monitor competitor websites by searching for their latest updates, scraping content to markdown, storing in a knowledge base, and generating AI-powered intelligence reports analyzing trends and insights.",
  "nodes": [
    {
      "id": "node-1",
      "type": "input",
      "position": {
        "x": 100,
        "y": 200
      },
      "config": {
        "input_output": {
          "label": "Competitor Name",
          "data_type": "text"
        }
      },
      "label": "Competitor Input"
    },
    {
      "id": "node-2",
      "type": "tool",
      "position": {
        "x": 300,
        "y": 200
      },
      "config": {
        "tool": {
          "tool_type": "DuckDuckGoSearch",
          "parameters": {
            "query": "{{upstream}} latest blog posts product updates",
            "max_results": 5
          }
        }
      },
      "label": "Search Updates"
    },
    {
      "id": "node-3",
      "type": "firecrawl_scrape",
      "position": {
        "x": 500,
        "y": 200
      },
      "config": {
        "firecrawl_scrape": {
          "url": "{{upstream}}",
          "formats": ["markdown"],
          "include_metadata": true,
          "credential_id": null
        }
      },
      "label": "Scrape to Markdown"
    },
    {
      "id": "node-4",
      "type": "knowledge_base",
      "position": {
        "x": 700,
        "y": 200
      },
      "config": {
        "knowledge_base": {
          "kb_type": "url",
          "vector_db": "pgvector",
          "sources": ["{{upstream}}"],
          "chunk_size": 1000,
          "chunk_overlap": 200
        }
      },
      "label": "Store in KB"
    },
    {
      "id": "node-5",
      "type": "agent",
      "position": {
        "x": 900,
        "y": 200
      },
      "config": {
        "agent": {
          "name": "Intelligence Analyst",
          "provider": "openai",
          "model": "gpt-4o",
          "system_prompt": "You are a competitive intelligence analyst. Analyze the provided competitor information and generate a comprehensive intelligence report.",
          "temperature": 0.7,
          "max_tokens": null,
          "tools": [],
          "knowledge_bases": ["node-4"],
          "instructions": [
            "Analyze the competitor's latest product updates, features, and strategic moves",
            "Identify key trends, patterns, and changes in their positioning",
            "Highlight potential threats or opportunities for our business",
            "Provide actionable insights and recommendations",
            "Format the output as a structured markdown report with sections: Summary, Key Findings, Trends Analysis, Strategic Implications, and Recommendations"
          ],
          "show_tool_calls": true,
          "markdown": true
        }
      },
      "label": "Analyze Intelligence"
    },
    {
      "id": "node-6",
      "type": "output",
      "position": {
        "x": 1100,
        "y": 200
      },
      "config": {
        "input_output": {
          "label": "Intelligence Report",
          "data_type": "text"
        }
      },
      "label": "Final Report"
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "node-1",
      "source_handle": null,
      "target": "node-2",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-2",
      "source": "node-2",
      "source_handle": null,
      "target": "node-3",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-3",
      "source": "node-3",
      "source_handle": null,
      "target": "node-4",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-4",
      "source": "node-4",
      "source_handle": null,
      "target": "node-5",
      "target_handle": null,
      "label": null
    },
    {
      "id": "edge-5",
      "source": "node-5",
      "source_handle": null,
      "target": "node-6",
      "target_handle": null,
      "label": null
    }
  ],
  "metadata": {
    "created_at": "2026-02-09T00:00:00Z",
    "updated_at": "2026-02-09T00:00:00Z",
    "version": "1.0.0",
    "author": "CoconutFlow Team",
    "tags": ["competitive-intelligence", "web-scraping", "rag", "business-intelligence"]
  }
}
